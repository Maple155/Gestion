# --- CONFIGURATION DATABASE ---
spring.datasource.url=jdbc:postgresql://localhost:5432/achat_vente
spring.datasource.username=postgres
spring.datasource.password=root
spring.datasource.driver-class-name=org.postgresql.Driver

# --- JPA / HIBERNATE ---
# Conseil : Utilise 'update' en développement pour que Hibernate crée les tables Achat automatiquement.
# Repasse en 'validate' uniquement quand ta base est stable.
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Empêche les erreurs de création de LOB (Large Objects) sur Postgres
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# --- JACKSON (JSON) ---
# Utile pour éviter les erreurs lors du chargement 'Lazy' des entités Achat/Fournisseur
spring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false

logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql=TRACE
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE 
logging.level.org.hibernate.type.descriptor.sql.BasicExtractor=TRACE
logging.level.org.springframework.jdbc.core=DEBUG 
logging.level.org.springframework.jdbc.core.JdbcTemplate=DEBUG

# --- SERVER ---
server.port=8085

# --- THYMELEAF ---
# Indispensable en dev pour voir les modifs CSS/HTML sans redémarrer le serveur
spring.thymeleaf.cache=false

# --- GESTION DES FICHIERS (Upload Proformas & Factures) ---
# spring.servlet.multipart.enabled=true
# spring.servlet.multipart.max-file-size=10MB
# spring.servlet.multipart.max-request-size=10MB

# # Configuration personnalisée pour ton service de stockage
# app.upload.dir=uploads/achats/